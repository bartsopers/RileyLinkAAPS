package info.nightscout.androidaps.plugins.pump.omnipod.comm.message.response.podinfo;

import org.junit.Test;

import info.nightscout.androidaps.plugins.pump.common.utils.ByteUtil;

import static org.junit.Assert.assertArrayEquals;
import static org.junit.Assert.assertEquals;

public class PodInfoRecentFlashLogUnitTests {
    @Test
    public void testMessageCorrect() {
        PodInfoRecentFlashLog podInfoRecentFlashLog = new PodInfoRecentFlashLog(ByteUtil.fromHexString("50008634212e00392031003c212d004120300044202c0049212e004c212b0051202f0054212c00592030805c202d806120308000212e800521318008202f800d20328010202f801521318018202f801d21318020202e8025213300282032002d2135003021310035213400382131003d2035004020310045213300482030004d21320050212f0055203300582030805d21328060202f800120308004202c80092131800c2130801121328014203180192133801c2031802120328024213200292035002c2131003121340003c3801c2031802120328024213200292035002c2131003121340003c3"));

        assertEquals(134, podInfoRecentFlashLog.getLastEntryIndex());
        assertArrayEquals(ByteUtil.fromHexString("34212e00392031003c212d004120300044202c0049212e004c212b0051202f0054212c00592030805c202d806120308000212e800521318008202f800d20328010202f801521318018202f801d21318020202e8025213300282032002d2135003021310035213400382131003d2035004020310045213300482030004d21320050212f"), //
                podInfoRecentFlashLog.getHexWordLog());
    }
}
